(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),s=a.n(l),i=(a(60),a(13)),c=a(14),o=a(16),u=a(15),m=a(17),d=a(53),h=a(22),p=a(4),E=(a(112),a(23)),g=a(20),f=a(24),O=a.n(f),v=function(e,t){return{type:"GET_ERRORS",payload:{msg:e,status:t,id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loginstate:!1,email:"",password:"",msg:null},a.onClick=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a.onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.loginstate||n&&this.setState({loginstate:!0})}},{key:"render",value:function(){return r.a.createElement(p.Container,null,this.state.msg?r.a.createElement("h5",{className:" red-text"},this.state.msg,"!"):null,!!this.state.loginstate&&r.a.createElement("h5",{className:" green-text"},"Login Successfuly!","!"),r.a.createElement("div",{className:"Login"},r.a.createElement("br",null),r.a.createElement(p.TextInput,{icon:"email",name:"email",id:"email",email:!0,validate:!0,label:"Email",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(p.TextInput,{icon:"lock",password:!0,name:"password",id:"password",label:"Password",onChange:this.onChange}),r.a.createElement(p.Button,{onClick:this.onClick,type:"submit",waves:"light",style:{margin:10}},"Login"),r.a.createElement("br",null)))}}]),t}(n.Component),b=Object(g.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}},{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});O.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then(function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})}).catch(function(t){e(v(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})})}}})(C),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",registered:!1,msg:null},a.onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.onClick=function(e){e.preventDefault();var t=a.state,n={name:t.name,email:t.email,password:t.password};a.props.register(n)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.registered||n&&this.setState({registered:!0})}},{key:"render",value:function(){return r.a.createElement(p.Container,null,this.state.msg?r.a.createElement("h5",{className:" red-text"},this.state.msg,"!"):null,!!this.state.registered&&r.a.createElement("h5",{className:" green-text"},"Registered Successfuly!","!"),r.a.createElement("div",{className:"SignupForm"},r.a.createElement("br",null),r.a.createElement(p.TextInput,{icon:"add",label:"Name",name:"name",id:"name",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(p.TextInput,{icon:"email",name:"email",id:"email",email:!0,validate:!0,label:"Email",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(p.TextInput,{icon:"lock",password:!0,name:"password",id:"password",label:"Password",onChange:this.onChange}),r.a.createElement(p.Button,{onClick:this.onClick,type:"submit",waves:"light",style:{margin:10}},"Sign up")))}}]),t}(n.Component),S=Object(g.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}},{register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});O.a.post("/api/users",r,{headers:{"Content-Type":"application/json"}}).then(function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})}).catch(function(t){e(v(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})})}}})(y),w=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.NavItem,{onClick:this.props.logout,href:"#"},"Logout"))}}]),t}(n.Component),R=Object(g.b)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(w);var j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Navbar,{className:"navbar",alignLinks:"right"},r.a.createElement(p.NavItem,{href:"#modal1",className:"modal-trigger"},"Login",r.a.createElement(p.Modal,{id:"modal1",header:"Login"},r.a.createElement(b,null))),r.a.createElement(p.NavItem,{href:"#modal2",className:"modal-trigger"},r.a.createElement(p.Modal,{id:"modal2",header:"Register"},r.a.createElement(S,null)),"Sign up"),r.a.createElement(R,null)))};a(134);var N=function(){return r.a.createElement(p.Container,null,r.a.createElement(p.Col,{className:"diffCard",m:4,s:12},r.a.createElement(p.CardPanel,{className:"teal"},r.a.createElement("span",{className:"white-text"},r.a.createElement("p",null,"Easy")))))};a(135);var I=function(){return r.a.createElement(p.Container,null,r.a.createElement(p.Col,{className:"diffCard",m:4,s:12},r.a.createElement(p.CardPanel,{className:"teal"},r.a.createElement("span",{className:"white-text"},r.a.createElement("p",null,"Hard")))))};a(136);var L=function(){return r.a.createElement(p.Container,null,r.a.createElement(p.Col,{className:"diffCard",m:4,s:12},r.a.createElement(p.CardPanel,{className:"teal"},r.a.createElement("span",{className:"white-text"},r.a.createElement("p",null,"Med")))))};var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Row,null,r.a.createElement(p.Col,{m:6,s:12},r.a.createElement(p.Card,{className:"blue-grey darken-1",textClassName:"white-text",title:e.method,actions:[r.a.createElement("a",null),r.a.createElement("a",null)]},r.a.createElement("ul",null,r.a.createElement("li",null,e.grind_size),e.instructions.map(function(e,t){return r.a.createElement("li",null,e["step"+(t+1)])}))))))},_={textAlign:"center"},A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:[],name:"",instructions:""},a.handleRecipeRender=function(e){O.a.get("http://localhost:3001/api/methods/methods/"+(e||"")).then(function(e){return a.setState({recipes:e.data})}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Container,null,r.a.createElement("h1",{style:_},"Welcome. Lets Start Brewing."),r.a.createElement("h5",{style:_},"How difficult do you want the recipes to be?")),r.a.createElement(p.Row,null,r.a.createElement("div",{onClick:function(){return e.handleRecipeRender("Easy")}},r.a.createElement(N,null)),r.a.createElement("div",{onClick:function(){return e.handleRecipeRender("Medium")}},r.a.createElement(L,null)),r.a.createElement("div",{onClick:function(){return e.handleRecipeRender("Hard")}},r.a.createElement(I,null))),this.state.recipes.map(function(e,t){return r.a.createElement(k,{key:t,method:e.method,instructions:e.instructions},e.method)}))}}]),t}(n.Component),T=a(21),x=a(52),G={msg:{},status:null,id:null},U=a(27),D={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},F=Object(T.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(U.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(U.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(U.a)({},e,t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(U.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),M=[x.a],P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,B=Object(T.e)(F,{},P(T.a.apply(void 0,M))),H=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){B.dispatch(function(e,t){e({type:"USER_LOADING"}),O.a.get("/api/auth/user",t).then(function(t){return e({type:"USER_LOADED",payload:t.data})}).catch(function(t){e(v(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})})})}},{key:"render",value:function(){return r.a.createElement(g.a,{store:B},r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:A}),r.a.createElement(h.a,{exact:!0,path:"/Welcome",component:A})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports=a(138)},60:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.aadde2f7.chunk.js.map